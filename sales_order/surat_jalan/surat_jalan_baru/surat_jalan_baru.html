<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aplikasi Yamaha</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
<!-- Select2 CSS -->
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />


</head>
<body >

<div id="navbar-container"></div>


<div class="container mt-4">
  <a  class="btn btn-success" href="/sales_order/surat_jalan/list_surat_jalan/list_surat_jalan.html">List Semua DO</a>
  <div class="card shadow p-4" style="border-top:10px solid blue">
    <div class="card-body">
      <div class="row mb-3">
        <div class="col-12">
          <h5 class="fw-bold">
            Nomor Delivery Order : <span id="no_do_generate"></span>
          </h5>
        </div>
      </div>

      <div class="row g-3">
        <!-- Kolom Kode Depan -->
        <div class="col-sm-12 col-md-3 col-xl-3">
          <label for="pilih_kode_depan" class="form-label fw-bold">Pilih Kode Depan</label>
          <select id="pilih_kode_depan" class="form-select"></select>
        </div>

        <!-- Kolom Customer -->
        <div class="col-sm-12 col-md-3 col-xl-3">
          <label for="search_customer" class="form-label fw-bold">Pilih Customer</label>
          <p id="loading_customer" class="text-muted small mb-1">Memuat data customer...</p>
          <select id="search_customer" class="form-select" style="width:100%"> 
               <option value="">Pilih Customer</option>
          </select>
        </div>

        <!-- Kolom PO -->
        <div class="col-sm-12 col-md-3 col-xl-3">
          <label for="select_po_list" class="form-label fw-bold">Pilih No PO</label>
          <select id="select_po_list" class="form-select"> 
               <option value="">Pilih No po</option>
          </select>
        </div>

        <div class="col-sm-12 col-md-3 col-xl-3">
          <label for="select_driver_list" class="form-label fw-bold">Pilih Driver</label>
          <select id="select_driver_list" class="form-select"></select>
        </div>
      </div>

      <div class="row">
        <div class="col-sm-12 col-md-3 col-xl-3">

         <label for="input_sales" class="form-label fw-bold">nama Sales</label>
         <input type="text" id="input_sales" placeholder="input nama sales"/>
       </div>

       <div class="col-sm-12 col-md-3 col-xl-3">

        <h6>Tgl Shchedule : <span id="tgl_schedule_div"></span></h6>
       </div>

      
      </div>
      <div class="row">
       <div class="col-sm-12 col-md-3 col-xl-3 mt-4">
        <button id="btn_buat_do" class="btn btn-lg btn-info">Buat DO</button>

      </div>      
      </div>      
    </div>
  </div>
</div>

<div class="container mt-4">
  <div class="row"> 
      <div class="col-sm-12 col-md-12 col-md-6"> 
          <table id="list_daftar_part" class="table table-bordered table-striped table-hover"></table>

      </div>
  </div>
</div>

<!-- Bootstrap & jQuery -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<!-- Select2 JS -->
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>


<!-- External JS -->
<script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
<script src="../../../js/sdk/pocketbase.umd.js"></script>
<script src="../../../js/pocket_config.js"></script>

<script src="./js_surat_jalan_baru/surat_jalan_baru.js"></script>
<script src="./js_surat_jalan_baru/customer_list_po.js"></script>
<script src="./js_surat_jalan_baru/driver_list.js"></script>
<script src="./js_surat_jalan_baru/tambah_data_do.js"></script>


<script>
  // Pastikan sudah ada pocket_config.js & pocketbase.umd.js diload di HTML
const pb = new PocketBase(pocketbaseUrl);

  $(document).ready(function () {
    $("#navbar-container").load("../../../component/nav.html", function () {
      setTimeout(loginUser, 500);
    });
  });
</script>


<script>
  // Isi select saat halaman load
  document.addEventListener("DOMContentLoaded", () => {
    const select = document.getElementById("pilih_kode_depan");

    // Tambahkan G dan X dulu
    let optionG = document.createElement("option");
    optionG.value = "G";
    optionG.textContent = "G";
    select.appendChild(optionG);

    let optionX = document.createElement("option");
    optionX.value = "X";
    optionX.textContent = "X";
    select.appendChild(optionX);

    // Separator pakai optgroup
    let separator = document.createElement("optgroup");
    separator.label = "====";
    select.appendChild(separator);

    // Tambahin huruf A - Z
    for (let i = 65; i <= 90; i++) {  // 65 = 'A', 90 = 'Z'
      let huruf = String.fromCharCode(i);
      let option = document.createElement("option");
      option.value = huruf;
      option.textContent = huruf;
      select.appendChild(option);
    }
  });
</script>
</body>
</html>
